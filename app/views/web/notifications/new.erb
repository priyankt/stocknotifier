<%# Include datetime picker stylesheet %>
<% content_for :assets do %>
    <%= stylesheet_link_tag 'bootstrap-datetimepicker.min' %>
    <style>
        .bootstrap-datetimepicker-widget .dropdown-menu {
            background-color: white !important;
        }
    </style>
<% end %>

<div class="row page-notifications-new">
    <div class="span12">
        <h3>New Message</h3>
        <hr/>
    </div>
    <div class="span12">
        <%= partial 'web/wysiwyg' %>
        <div id="editor" contenteditable="true">
            Enter your message here..
        </div>
    </div>
    <div class="span12">
        <span class="spacer20"></span>
        <div id="datetimepicker" class="input-append">
            <input id="dttm" type="text" placeholder="Schedule Message"></input>
            <span class="add-on">
                <i data-time-icon="icon-time" data-date-icon="icon-calendar"></i>
            </span>
        </div>
        <span class="pull-right"><a id="sendMessage" class="btn btn-danger">Send Message</a></span>
    </div>
</div>

<% content_for :js do %>
    <%= javascript_include_tag 'bootstrap-wysiwyg' %>
    <%= javascript_include_tag 'bootstrap-datetimepicker.min' %>
    <script type="text/javascript">
        $(document).ready(function(){
            $('#editor').wysiwyg();

            $('#sendMessage').click(function() {
                var htmlText = $('#editor').html();
                console.log(htmlText);
                confirm("Are you sure you want to send this message?");
            });

            $('#datetimepicker').datetimepicker({
                language: 'en',
                pickSeconds: false,
                format: 'dd/MM/yyyy @ hh:mm',
                //startDate: 
            });
        });
    </script>
<% end %>